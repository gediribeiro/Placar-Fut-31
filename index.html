<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <!-- ==========================================================================
         PLACAR PRO ‚Äì HTML PRINCIPAL v1.3.0
         ============================================================================
         √çNDICE:
         1. META TAGS E CONFIGURA√á√ïES
         2. FAVICON E MANIFEST
         3. ESTILOS (CSS E FONTES)
         4. SCRIPT INICIAL (THEME-COLOR)
         5. SPLASH SCREEN
         6. HEADER
         7. CONTE√öDO PRINCIPAL (SE√á√ïES)
            7.1. JOGO
            7.2. JOGADORES
            7.3. RANKING
            7.4. HIST√ìRICO
            7.5. ESTAT√çSTICAS
            7.6. COMPARAR
            7.7. BACKUP
            7.8. MENU
         8. POPUPS / MODAIS GERAIS
            8.1. POPUP GOL
            8.2. POPUP FALTA
            8.3. POPUP REMOVER GOL
            8.4. POPUP EDITAR NOME TIME
            8.5. MODAL CARD COMPARTILHAMENTO
            8.6. MODAL PERFIL JOGADOR
         9. TUTORIAL LEQUE
         10. BOT√ïES FLUTUANTES
         11. BOTTOM NAVIGATION
         12. SCRIPTS FINAIS
         ========================================================================== -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <!-- 1. META TAGS E CONFIGURA√á√ïES -->
    <meta name="description" content="Sistema de placar profissional Placar Pro">
    <meta name="version" content="v1.2.0">
    
    <!-- Theme-color din√¢mico (JS) -->
    <meta name="theme-color" id="metaThemeColor" content="#1a5f23">
    
    <!-- Configura√ß√µes iOS PWA -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Placar Pro">
    
    <!-- Configura√ß√µes Android/General PWA -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Placar Pro">
    
    <!-- 2. FAVICON E MANIFEST -->
    <link rel="icon" href="icon-192.png" type="image/png">
    <link rel="apple-touch-icon" href="icon-192.png">
    <link rel="manifest" href="manifest.json">
    
    <!-- 3. ESTILOS (CSS E FONTES) -->
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <title>Placar Pro</title>

    <!-- 4. SCRIPT INICIAL (THEME-COLOR) -->
    <script>
        function updateThemeColor() {
            const isDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            const metaTheme = document.getElementById('metaThemeColor');
            if (metaTheme) {
                metaTheme.setAttribute('content', isDark ? '#0a0c10' : '#1a1a2e');
            }
        }
        updateThemeColor();
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', updateThemeColor);
    </script>
</head>
<body class="clean-bg">

    <!-- 5. SPLASH SCREEN -->
    <div id="splashScreen">
        <div class="splash-content">
            <div class="logo">‚öΩ</div>
            <h1>Placar Pro</h1>
            <p class="version">v1.2.0</p>
            <div class="loading">
                <div class="spinner"></div>
            </div>
            <p class="loading-text">Carregando...</p>
        </div>
    </div>

    <!-- 6. HEADER -->
    <header class="app-header">
        <div class="header-container">
            <div class="logo-container">
                <div class="logo-icon">‚öΩ</div>
                <h1 class="app-title">Placar Pro</h1>
            </div>
            <div style="display: flex; gap: 12px; margin-left: auto;">
                <button class="header-icon-btn" onclick="PlacarApp.trocarTab('menu', this)" title="Menu">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- 7. CONTE√öDO PRINCIPAL (SE√á√ïES) -->
    <main class="app-main">

        <!-- 7.1. SE√á√ÉO JOGO -->
        <section id="jogo" class="content-section active">
            <div class="scoreboard-container p-xl">
                <div class="teams-header">
                    <div class="team-name-display cursor-pointer" id="nomeTimeA">Time A</div>
                    <div class="team-edit-buttons">
                        <button class="edit-team-btn" onclick="PlacarApp.editarNomeTime('A')" title="Editar nome Time A">‚úèÔ∏è</button>
                        <button class="edit-team-btn" onclick="PlacarApp.editarNomeTime('B')" title="Editar nome Time B">‚úèÔ∏è</button>
                    </div>
                    <div class="team-name-display cursor-pointer" id="nomeTimeB">Time B</div>
                </div>

                <div class="main-scoreboard">
                    <div class="team-score team-left">
                        <div class="action-buttons">
                            <button class="action-btn goal-btn" onclick="PlacarApp.aumentarGol('A')" title="Gol do Time A">+</button>
                            <button class="action-btn remove-btn" onclick="PlacarApp.diminuirGol('A')" title="Remover gol">‚àí</button>
                            <button class="action-btn foul-btn" onclick="PlacarApp.registrarFalta('A')" title="Registrar falta">!</button>
                        </div>
                        <div class="score-number cursor-pointer" id="placarA">0</div>
                    </div>
                    <div class="score-divider">√ó</div>
                    <div class="team-score team-right">
                        <div class="score-number cursor-pointer" id="placarB">0</div>
                        <div class="action-buttons">
                            <button class="action-btn goal-btn" onclick="PlacarApp.aumentarGol('B')" title="Gol do Time B">+</button>
                            <button class="action-btn remove-btn" onclick="PlacarApp.diminuirGol('B')" title="Remover gol">‚àí</button>
                            <button class="action-btn foul-btn" onclick="PlacarApp.registrarFalta('B')" title="Registrar falta">!</button>
                        </div>
                    </div>
                </div>

                <div class="timer-section">
                    <div class="game-timer" id="tempo" onclick="PlacarApp.togglePause()">00:00</div>
                </div>

                <div class="fouls-section">
                    <div class="section-label">Faltas</div>
                    <div class="fouls-counter">
                        <div class="foul-item p-md">
                            <span class="foul-team-name" id="nomeFaltaA">Time A</span>
                            <span class="foul-count" id="faltasA">0</span>
                        </div>
                        <div class="foul-item p-md">
                            <span class="foul-team-name" id="nomeFaltaB">Time B</span>
                            <span class="foul-count" id="faltasB">0</span>
                        </div>
                    </div>
                </div>

                <div class="game-controls">
                    <button class="control-btn start-game-btn" id="btnIniciar" onclick="PlacarApp.iniciar()">
                        <span class="btn-icon">‚ñ∂</span> Iniciar
                    </button>
                    <button class="control-btn reset-game-btn" onclick="PlacarApp.resetar()">
                        <span class="btn-icon">üîÑ</span> Reset
                    </button>
                    <button class="control-btn end-game-btn" id="btnFim" onclick="PlacarApp.fim()">
                        <span class="btn-icon">‚õî</span> Fim
                    </button>
                </div>
            </div>

            <div class="timeline-container p-md">
                <h3 class="section-subtitle"><i class="fas fa-history"></i> Linha do Tempo</h3>
                <ul id="listaTimeline" class="timeline-list">
                    <li class="timeline-empty">Nenhum evento registrado ainda</li>
                </ul>
            </div>

            <h3 id="tituloGols" class="section-subtitle hidden">üìä Gols da Partida</h3>
            <ul id="listaGols" class="goals-list"></ul>
        </section>

        <!-- 7.2. SE√á√ÉO JOGADORES -->
        <section id="jogadores" class="content-section">
            <div class="input-card p-lg">
                <input type="text" id="novoJogador" class="player-input" placeholder="Nome do jogador" maxlength="20">
                <button class="primary-btn add-player-btn" onclick="PlacarApp.addJogador()">‚ûï Adicionar Jogador</button>
            </div>
            <ul id="listaJogadores" class="players-list"></ul>
        </section>

        <!-- 7.3. SE√á√ÉO RANKING -->
        <section id="ranking" class="content-section">
            <div class="stats-card p-lg">
                <h3 class="card-title">üèÜ Ranking de Gols - Geral</h3>
                <ul id="listaRankingGeral" class="ranking-list"></ul>
            </div>
            <div class="stats-card p-lg">
                <h3 class="card-title">üìÖ Ranking de Gols - M√™s</h3>
                <ul id="listaRankingMes" class="ranking-list"></ul>
            </div>
            <div class="stats-card p-lg">
                <h3 class="card-title">‚ö†Ô∏è Ranking de Faltas</h3>
                <ul id="listaRankingFaltas" class="ranking-list"></ul>
            </div>
        </section>

        <!-- 7.4. SE√á√ÉO HIST√ìRICO -->
        <section id="historico" class="content-section">
            <div class="history-header">
                <h2 class="section-title">üìã Hist√≥rico de Partidas</h2>
                <button class="danger-btn clear-history-btn" onclick="PlacarApp.limparHistorico()">üóëÔ∏è Limpar Hist√≥rico</button>
            </div>
            <div id="listaHistorico" class="history-container"></div>
        </section>

        <!-- 7.5. SE√á√ÉO ESTAT√çSTICAS -->
        <section id="stats" class="content-section">
            <h2 class="section-title">üìä Estat√≠sticas</h2>
            <div class="stats-grid">
                <div class="stats-card p-lg">
                    <h3 class="card-title">üìà Gerais</h3>
                    <div id="statsGerais" class="stats-content"></div>
                </div>
                <div class="stats-card p-lg">
                    <h3 class="card-title">üî• Recentes</h3>
                    <div id="statsRecentes" class="stats-content"></div>
                </div>
                <div class="stats-card p-lg">
                    <h3 class="card-title">üë§ Por Jogador</h3>
                    <div id="statsPorJogador" class="stats-content"></div>
                </div>
            </div>
        </section>

        <!-- 7.6. SE√á√ÉO COMPARAR -->
        <section id="comparar" class="content-section">
            <div class="stats-card p-lg">
                <h3 class="card-title">‚öñÔ∏è Comparar Jogadores</h3>
                <select id="jogador1" class="player-select">
                    <option value="">Selecione jogador 1</option>
                </select>
                <select id="jogador2" class="player-select">
                    <option value="">Selecione jogador 2</option>
                </select>
                <button class="primary-btn compare-btn" onclick="PlacarApp.compararJogadores()">‚öñÔ∏è Comparar</button>
            </div>
            <div id="resultadoComparacao" class="comparison-result p-md"></div>
        </section>

        <!-- 7.7. SE√á√ÉO BACKUP -->
        <section id="backup" class="content-section">
            <div class="version-display p-lg">
                <div class="app-title">‚öΩ Placar Pro</div>
                <div class="app-version">Vers√£o: <span id="appVersion">v1.2.0</span></div>
            </div>
            <div class="stats-card p-lg">
                <h3 class="card-title">üíæ Backup & Restaura√ß√£o</h3>
                <button class="primary-btn" onclick="PlacarApp.exportarBackup()">üì§ Exportar Dados</button>
                <button class="secondary-btn" onclick="document.getElementById('importFile').click()">üì• Importar Dados</button>
                <input type="file" id="importFile" accept=".json" style="display:none" onchange="PlacarApp.importarBackup(event)">
                <p style="font-size:12px; color:var(--text-secondary); margin-top:10px;">Salve seus jogadores, hist√≥rico e estat√≠sticas</p>
                <button class="secondary-btn" onclick="PlacarApp.abrirTutorialManual()" style="margin-top: 15px;">üìò Reexibir tutorial</button>
            </div>
        </section>

        <!-- 7.8. SE√á√ÉO MENU -->
        <section id="menu" class="content-section">
            <div class="stats-card p-lg" style="text-align: center;">
                <h2 class="section-title">‚ò∞ Menu</h2>
                <div style="display: flex; flex-direction: column; gap: 16px; margin-top: 24px;">
                    <button class="primary-btn" onclick="PlacarApp.trocarTab('comparar', this)">
                        <i class="fas fa-scale-balanced" style="margin-right: 8px;"></i> Comparar Jogadores
                    </button>
                    <button class="primary-btn" onclick="PlacarApp.trocarTab('backup', this)">
                        <i class="fas fa-gear" style="margin-right: 8px;"></i> App (Configura√ß√µes)
                    </button>
                    <button class="primary-btn" onclick="PlacarApp.instalarApp()">
                        <i class="fas fa-download" style="margin-right: 8px;"></i> Instalar App
                    </button>
                    <button class="primary-btn" onclick="PlacarApp.abrirTutorialManual()">
                        <i class="fas fa-question-circle" style="margin-right: 8px;"></i> Ajuda / Tutorial
                    </button>
                </div>
            </div>
        </section>
    </main>

    <!-- 8. POPUPS / MODAIS GERAIS -->
    <!-- 8.1. POPUP GOL -->
    <div id="popupJogador" class="modal-overlay" onclick="PlacarApp.fecharPopup(event)">
        <div class="modal-content p-xl" onclick="event.stopPropagation()">
            <h3 class="modal-title">‚öΩ Quem fez o gol?</h3>
            <div id="popupJogadores" class="players-grid"></div>
            <button class="secondary-btn close-modal-btn" onclick="PlacarApp.fecharPopup()">‚úñ Cancelar</button>
        </div>
    </div>

    <!-- 8.2. POPUP FALTA -->
    <div id="popupFalta" class="modal-overlay" onclick="PlacarApp.fecharPopupFalta(event)">
        <div class="modal-content p-xl" onclick="event.stopPropagation()">
            <h3 class="modal-title">‚ö†Ô∏è Quem fez a falta?</h3>
            <div id="popupJogadoresFalta" class="players-grid"></div>
            <button class="secondary-btn close-modal-btn" onclick="PlacarApp.fecharPopupFalta()">‚úñ Cancelar</button>
        </div>
    </div>

    <!-- 8.3. POPUP REMOVER GOL -->
    <div id="popupRemover" class="modal-overlay" onclick="PlacarApp.fecharPopupRemover(event)">
        <div class="modal-content p-xl" onclick="event.stopPropagation()">
            <h3 class="modal-title">üóëÔ∏è Remover qual gol?</h3>
            <div id="popupGols" class="players-grid"></div>
            <button class="secondary-btn close-modal-btn" onclick="PlacarApp.fecharPopupRemover()">‚úñ Cancelar</button>
        </div>
    </div>

    <!-- 8.4. POPUP EDITAR NOME TIME -->
    <div id="popupNomeTime" class="modal-overlay" onclick="PlacarApp.fecharPopupNome(event)">
        <div class="modal-content p-xl" onclick="event.stopPropagation()">
            <h3 class="modal-title">‚úèÔ∏è Editar Nome do Time</h3>
            <input type="text" id="inputNomeTime" class="team-name-input" placeholder="Nome do time" maxlength="20">
            <button class="primary-btn confirm-btn" onclick="PlacarApp.salvarNomeTime()">‚úì Confirmar</button>
            <button class="secondary-btn close-modal-btn" onclick="PlacarApp.fecharPopupNome()">‚úñ Cancelar</button>
        </div>
    </div>

    <!-- 8.5. MODAL CARD COMPARTILHAMENTO -->
    <div id="modalCardPartida" class="modal-overlay" onclick="PlacarApp.fecharModalCard(event)">
        <div class="modal-content card-gramado" onclick="event.stopPropagation()">
            <div id="cardPartidaConteudo"></div>
            <div style="display: flex; gap: 12px; margin-top: 24px; justify-content: center;">
                <button class="secondary-btn" onclick="PlacarApp.fecharModalCard()">‚úñ Fechar</button>
            </div>
        </div>
    </div>

    <!-- 8.6. MODAL PERFIL JOGADOR -->
    <div id="modalPerfilJogador" class="modal-overlay" onclick="PlacarApp.fecharModalPerfil(event)">
        <div class="modal-content perfil-card" onclick="event.stopPropagation()">
            <div id="perfilJogadorConteudo"></div>
            <div style="display: flex; gap: 12px; margin-top: 24px; justify-content: center;">
                <button class="secondary-btn" onclick="PlacarApp.fecharModalPerfil()">‚úñ Fechar</button>
            </div>
        </div>
    </div>

    <!-- 9. TUTORIAL LEQUE -->
    <div id="tutorialLeque" class="tutorial-overlay" style="display: none;">
        <div class="leque-container">
            <div class="leque-deck" id="lequeDeck">
                <div class="leque-card" data-index="0">
                    <span class="card-icon">‚öΩ</span>
                    <h4>Gols</h4>
                    <p>Use + e ‚Äì para marcar ou remover gols de cada time.</p>
                </div>
                <div class="leque-card" data-index="1">
                    <span class="card-icon">üü®</span>
                    <h4>Faltas</h4>
                    <p>Registre faltas por jogador e controle o ritmo do jogo.</p>
                </div>
                <div class="leque-card" data-index="2">
                    <span class="card-icon">üë•</span>
                    <h4>Jogadores</h4>
                    <p>Adicione, edite nomes e acompanhe rankings.</p>
                    <button class="leque-btn" id="entendiTutorialBtn">‚úÖ Entendi</button>
                </div>
                <div class="leque-card" data-index="3">
                    <span class="card-icon">üì§</span>
                    <h4>Compartilhar</h4>
                    <p>No hist√≥rico, gere cards profissionais com placar e craque.</p>
                </div>
                <div class="leque-card" data-index="4">
                    <span class="card-icon">üì±</span>
                    <h4>Instalar</h4>
                    <p>Adicione √† tela de in√≠cio e use como app offline.</p>
                </div>
            </div>
            <div class="leque-navegacao">
                <button class="leque-nav-btn" id="lequeAnteriorBtn" title="Anterior">‚Üê</button>
                <div class="leque-dots" id="lequeDots">
                    <span class="dot" data-dot="0"></span>
                    <span class="dot" data-dot="1"></span>
                    <span class="dot active" data-dot="2"></span>
                    <span class="dot" data-dot="3"></span>
                    <span class="dot" data-dot="4"></span>
                </div>
                <button class="leque-nav-btn" id="lequeProximoBtn" title="Pr√≥ximo">‚Üí</button>
            </div>
            <button class="leque-skip" id="pularTutorialBtn">‚èπ Pular tutorial</button>
        </div>
    </div>

    <!-- 10. BOT√ïES FLUTUANTES -->
    <button id="installBtn" class="floating-btn install-btn" onclick="PlacarApp.instalarApp()">üì± Instalar App</button>
    <button id="undoBtn" class="floating-btn undo-btn" onclick="PlacarApp.desfazer()" style="display: none;">‚Ü∂</button>

    <!-- 11. BOTTOM NAVIGATION -->
    <nav class="tabs-navigation">
        <div class="tabs-container">
            <button class="tab-button active" onclick="PlacarApp.trocarTab('jogo', this)">
                <i class="fas fa-futbol"></i>
                <span>Jogo</span>
            </button>
            <button class="tab-button" onclick="PlacarApp.trocarTab('jogadores', this)">
                <i class="fas fa-users"></i>
                <span>Elenco</span>
            </button>
            <button class="tab-button" onclick="PlacarApp.trocarTab('ranking', this)">
                <i class="fas fa-trophy"></i>
                <span>Artilharia</span>
            </button>
            <button class="tab-button" onclick="PlacarApp.trocarTab('historico', this)">
                <i class="fas fa-clock-rotate-left"></i>
                <span>Partidas</span>
            </button>
            <button class="tab-button" onclick="PlacarApp.trocarTab('stats', this)">
                <i class="fas fa-chart-simple"></i>
                <span>Estat√≠sticas</span>
            </button>
        </div>
    </nav>

    <!-- 12. SCRIPTS FINAIS -->
    <!-- Script principal do app -->
    <script src="app.js"></script>

    <!-- Script de inicializa√ß√£o e logs -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Placar Pro - Carregado com sucesso!');
            if (window.matchMedia('(display-mode: standalone)').matches) {
                console.log('Rodando como PWA instalado');
            }
            const versionSpan = document.getElementById('appVersion');
            if (versionSpan) versionSpan.textContent = 'v1.2.0';
        });
    </script>
</body>
</html>
